!function(e){var r={};function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,r){if(1&r&&(e=n(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)n.d(t,o,function(r){return e[r]}.bind(null,o));return t},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="",n(n.s=0)}([function(e,r,n){n(1),e.exports=n(2)},function(e,r){e.exports=require("@babel/polyfill")},function(e,r,n){function t(e,r,n,t,o,s,i){try{var c=e[s](i),u=c.value}catch(e){return void n(e)}c.done?r(u):Promise.resolve(u).then(t,o)}var o,s,i=n(3),c=n(5),u=c.server,a=c.io,f=n(10),l=n(11),p=function(){var e,r=(e=regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o||s||(o=f.createConnection({host:i.mysql.host,user:i.mysql.user,password:i.mysql.password,database:i.mysql.db}),s=new l(o,{startAtEnd:!0,serverId:5,excludedSchema:{mysql:!0}})),e.next=3,s.start();case 3:s.removeTrigger({name:"RECEIVE UPDATE EVENT",expression:"*",statement:l.STATEMENTS.ALL}),s.addTrigger({name:"RECEIVE UPDATE EVENT",expression:"*",statement:l.STATEMENTS.UPDATE,onEvent:function(e){var n=e.affectedRows[0].after;-1!==[0,1].indexOf(+n.status)&&(r.emit("STATUS_UPDATED",n),console.log("EMIT",n))}}),s.on(l.EVENTS.CONNECTION_ERROR,console.error);case 6:case"end":return e.stop()}},e)}),function(){var r=this,n=arguments;return new Promise(function(o,s){var i=e.apply(r,n);function c(e){t(i,o,s,c,u,"next",e)}function u(e){t(i,o,s,c,u,"throw",e)}c(void 0)})});return function(e){return r.apply(this,arguments)}}();a.sockets.on("connection",function(e){console.log("New Connection !"),p(e).then(function(){return console.log("Watching DB...")}).catch(console.error)});var v=u.listen(i.port,function(){console.info("Server started on port ".concat(i.port," (").concat(i.env,")"))});e.exports=v},function(e,r,n){n(4).config(),envVars=Object({NODE_ENV:"development",PORT:"4040",MYSQL_HOST:"10.2.1.100",MYSQL_USER:"root",MYSQL_PASSWORD:"",MYSQL_DB:"ccc"});var t={env:envVars.NODE_ENV,port:envVars.PORT,mysql:{host:envVars.MYSQL_HOST,user:envVars.MYSQL_USER,password:envVars.MYSQL_PASSWORD,db:envVars.MYSQL_DB}};e.exports=t},function(e,r){e.exports=require("dotenv")},function(e,r,n){var t=n(6),o=n(8),s=n(9).createServer(t),i=o.listen(s);e.exports={io:i,server:s}},function(e,r,n){var t=n(7)();e.exports=t},function(e,r){e.exports=require("express")},function(e,r){e.exports=require("socket.io")},function(e,r){e.exports=require("http")},function(e,r){e.exports=require("mysql")},function(e,r){e.exports=require("@rodrigogs/mysql-events")}]);